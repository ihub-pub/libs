description = 'spring cloud自动配置'

java {
    registerFeature('servlet') {
        usingSourceSet sourceSets.main
        capability group, 'cloud-support', version
        capability group, 'servlet-support', version
    }
    registerFeature('reactor') {
        usingSourceSet sourceSets.main
        capability group, 'cloud-support', version
        capability group, 'reactor-support', version
    }
}

dependencies {
    servletApi 'org.springframework.boot:spring-boot-starter-web'
    reactorApi 'org.springframework.boot:spring-boot-starter-webflux'

    api 'org.springframework.boot:spring-boot-starter-validation',
        'org.springframework.cloud:spring-cloud-starter-bootstrap',
        'org.springframework.cloud:spring-cloud-starter-loadbalancer'

    api 'de.codecentric:spring-boot-admin-starter-client'

    api 'com.alibaba.cloud:spring-cloud-starter-alibaba-nacos-discovery',
        'com.alibaba.cloud:spring-cloud-starter-alibaba-nacos-config',
        'com.alibaba.cloud:spring-cloud-starter-alibaba-sentinel'

    testImplementation project(':ihub-boot-test-spring-boot-starter')
}
